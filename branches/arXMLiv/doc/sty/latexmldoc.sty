%======================================================================
% Collected separately so I can override for LaTeXML
%======================================================================
\usepackage{latexml}
\usepackage{color}
%======================================================================
\def\toctitle#1{}

%======================================================================

\let\@@LaTeXML\LaTeXML
\def\LaTeXML{\ifHy@pdfstring LaTeXML\else\@@LaTeXML\fi}
\def\BibTeX{{\rm B}{\sc ib}\TeX}
\def\URL{\@ifnextchar[{\@URL}{\@@URL}}%]
\def\@@URL{\begingroup\url}
%%\def\@URL[#1]{#1\begingroup\def\UrlLeft##1\UrlRight{\footnote{\texttt{##1}}}\Url}
\def\@URL[#1]{#1\begingroup\def\UrlLeft##1\UrlRight{\footnote{\Url{##1}}}\Url}

\let\@title\@empty
\def\subtitle#1{\gdef\@subtitle{#1}}
\def\@maketitle{%
  \newpage
  \null
  \vskip 2em%
  \begin{center}%
  \let \footnote \thanks
    {\LARGE \@title \par}%
    \ifx\@subtitle\@empty\else
      \vskip 1.0em%
      {\large \@subtitle \par}%
    \fi
    \vskip 1.5em%
    {\large
      \lineskip .5em%
      \begin{tabular}[t]{c}%
        \@author
      \end{tabular}\par}%
    \vskip 1em%
    {\large \@date}%
  \end{center}%
  \par
  \vskip 1.5em}
\renewcommand\maketitle{\begin{titlepage}%
  \let\footnotesize\small
  \let\footnoterule\relax
  \let \footnote \thanks
  \null\vfil
  \vskip 60\p@
  \begin{center}%
    {\LARGE \@title \par}%
    \ifx\@subtitle\@empty\else
      \vskip 1.0em%
      {\large \@subtitle \par}%
    \fi
    \vskip 3em%
    {\large
     \lineskip .75em%
      \begin{tabular}[t]{c}%
        \@author
      \end{tabular}\par}%
      \vskip 1.5em%
    {\large \@date \par}%       % Set date in \large size.
  \end{center}\par
  \@thanks
  \vfil\null
  \end{titlepage}%
}
\usepackage{graphicx}

\newcommand{\ltxcmd}[1]{\htmlref{\texttt{#1}}{#1}}

\def\@@ltxprefix{LaTeXML}
\def\@@pkgprefix#1::#2\end{#1}
\def\@@latexmlcmd{latexml}
\def\@@latexmlpostcmd{latexmlpost}
\def\@@latexmlmathcmd{latexmlmath}
\def\@@latexmldaemoncmd{latexmld}
\def\@@latexmldaemonservercmd{latexmls}
\def\@@latexmldaemonclientcmd{latexmlc}
\newcommand{\pod}[1]{%
  {\edef\@prefix{\@@pkgprefix#1::\end}
   \edef\@podcmd{#1}
  \ifx\@@ltxprefix\@prefix
     \htmlref{\texttt{#1}}{#1}%
  \else\ifx\@podcmd\@@latexmlcmd
     \htmlref{\texttt{#1}}{#1}%
  \else\ifx\@podcmd\@@latexmlpostcmd
     \htmlref{\texttt{#1}}{#1}%
  \else\ifx\@podcmd\@@latexmlmathcmd
     \htmlref{\texttt{#1}}{#1}%
  \else\ifx\@podcmd\@@latexmldaemoncmd
     \htmlref{\texttt{#1}}{#1}%
  \else\ifx\@podcmd\@@latexmldaemonservercmd
     \htmlref{\texttt{#1}}{#1}%
  \else\ifx\@podcmd\@@latexmldaemonclientcmd
     \htmlref{\texttt{#1}}{#1}%
  \else
     \href{http://search.cpan.org/search?query=#1&mode=module}{\texttt{#1}}%
  \fi\fi\fi\fi\fi\fi\fi}}

\newcommand{\ltxpod}[1]{%
  \htmlref{\texttt{#1}}{LaTeXML::#1}}

\newcommand{\cmd}[1]{\texttt{#1}}
\newcommand{\code}[1]{\texttt{#1}}
\newcommand{\method}[1]{\texttt{->#1}}
\newcommand{\attr}[1]{\texttt{#1}}
\newcommand{\attrval}[1]{\texttt{#1}}

\newcommand{\varfile}[2][]{\texttt{\textit{#2}\if.#1.\else.#1\fi}}
\newcommand{\cs}[1]{\texttt{$\backslash$#1}}
%======================================================================
% For generated documentation of Schema.

\newenvironment{moduledescription}{\begin{description}}{\end{description}}%
\newenvironment{elementdescription}{\begin{description}}{\end{description}}%
\newenvironment{patterndescription}{\begin{description}}{\end{description}}%

\newcommand{\@defname}[1]{\textup{\textbf{\texttt{#1}}}}
\newcommand{\typename}[1]{\textit{#1}}

\newenvironment{schemamodule}[1]{%
  \section*{Module \@defname{#1}}\label{schema.module.#1}
   \raggedright
  \begin{moduledescription}}{\end{moduledescription}}


% \elementdef{name}{doc}{body}
\newcommand{\elementdef}[3]{
  \item[\textit{Element }\hypertarget{schema.element.#1}{\@defname{#1}}] \hspace{1em} #2
    \ifx.#3.\else\begin{elementdescription}#3\end{elementdescription}\fi
}

% \attrdef{name}{doc}{content}
\newcommand{\attrdef}[3]{
  \item[\textit{Attribute }\@defname{#1}] =\ #3\par\noindent #2
}

% \patterndef{name}{doc}{body}
\newcommand{\patterndef}[3]{
   \item[\textit{Pattern }\hypertarget{schema.pattern.#1}{\@defname{#1}}] \hspace{1em} #2
    \ifx.#3.\else\begin{patterndescription}#3\end{patterndescription}\fi
}

% \patternadd{name}{doc}{body}
\newcommand{\patternadd}[3]{
  \item[\textit{Add to }\@defname{#1}] \hspace{1em} #2
    \ifx.#3.\else\begin{patterndescription}#3\end{patterndescription}\fi
}

\newcommand{\moduleref}[1]{\htmlref{\texttt{#1}}{schema.module.#1}}
\newcommand{\patternref}[1]{\hyperlink{schema.pattern.#1}{\texttt{#1}}}
\newcommand{\elementref}[1]{\hyperlink{schema.element.#1}{\texttt{#1}}}

%======================================================================
\definecolor{linkblue}{cmyk}{1.0,0.2,0.0,0.50}%
\usepackage[colorlinks=true, linkcolor=linkblue, citecolor=linkblue, urlcolor=blue,
            plainpages=false, pdfpagelabels]{hyperref}

%======================================================================